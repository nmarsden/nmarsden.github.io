!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){Object.extend=function(e){if(null==e)return e;for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var a in n){var o=n.__lookupGetter__(a),i=n.__lookupSetter__(a);o||i?(o&&e.__defineGetter__(a,o),i&&e.__defineSetter__(a,i)):e[a]=n[a]}}return e},e.exports={onePageScroll:function(e,t){var n=Object.extend({},{sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,updateURL:!1,keyboard:!0,beforeMove:null,afterMove:null,loop:!1,responsiveFallback:!1},t),a=document.querySelector(e),o=document.querySelectorAll(n.sectionContainer),i=o.length,r=0,s="",l=document.querySelector("body");this.init=function(){_addClass(a,"onepage-wrapper"),a.style.position="relative";for(var e=0;e<o.length;e++)_addClass(o[e],"ops-section"),o[e].dataset.index=e+1,100,1==n.pagination&&(s+="<li><a data-index='"+(e+1)+"' href='#"+(e+1)+"'></a></li>");if(_swipeEvents(a),document.addEventListener("swipeDown",(function(e){_hasClass(l,"disabled-onepage-scroll")||e.preventDefault(),moveUp(a)})),document.addEventListener("swipeUp",(function(e){_hasClass(l,"disabled-onepage-scroll")||e.preventDefault(),moveDown(a)})),1==n.pagination){var t=document.createElement("ul");t.setAttribute("class","onepage-pagination"),l.appendChild(t),t.innerHTML=s;var i=document.querySelector(".onepage-pagination").offsetHeight/2*-1;document.querySelector(".onepage-pagination").style.marginTop=i}if(""!=window.location.hash&&"#1"!=window.location.hash){var r=window.location.hash.replace("#",""),d=document.querySelector(n.sectionContainer+"[data-index='"+r+"']"),c=d.dataset.index;if(_addClass(document.querySelector(n.sectionContainer+"[data-index='"+r+"']"),"active"),_addClass(l,"viewing-page-"+r),1==n.pagination&&_addClass(document.querySelector(".onepage-pagination li a[data-index='"+r+"']"),"active"),d&&(_addClass(d,"active"),1==n.pagination&&_addClass(document.querySelector(".onepage-pagination li a[data-index='"+r+"']"),"active"),l.className=l.className.replace(/\bviewing-page-\d.*?\b/g,""),_addClass(l,"viewing-page-"+c),history.replaceState&&1==n.updateURL)){var u=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+r;history.pushState({},document.title,u)}_transformPage(a,n,100*(r-1)*-1,r)}else _addClass(document.querySelector(n.sectionContainer+"[data-index='1']"),"active"),_addClass(l,"viewing-page-1"),1==n.pagination&&_addClass(document.querySelector(".onepage-pagination li a[data-index='1']"),"active");if(_paginationHandler=function(){var e=this.dataset.index;moveTo(a,e)},1==n.pagination){var p=document.querySelectorAll(".onepage-pagination li a");for(e=0;e<p.length;e++)p[e].addEventListener("click",_paginationHandler)}return _mouseWheelHandler=function(e){e.preventDefault();var t=e.wheelDelta||-e.detail;_hasClass(l,"disabled-onepage-scroll")||_init_scroll(e,t)},document.addEventListener("mousewheel",_mouseWheelHandler),document.addEventListener("DOMMouseScroll",_mouseWheelHandler),0!=n.responsiveFallback&&(window.onresize=function(){_responsive()},_responsive()),_keydownHandler=function(e){var t=e.target.tagName.toLowerCase();if(!_hasClass(l,"disabled-onepage-scroll"))switch(e.which){case 38:"input"!=t&&"textarea"!=t&&moveUp(a);break;case 40:"input"!=t&&"textarea"!=t&&moveDown(a);break;default:return}return!1},1==n.keyboard&&(document.onkeydown=_keydownHandler),!1},_swipeEvents=function(e){var t,n;function a(e){var o=e.touches;if(o&&o.length){e.preventDefault();var i=t-o[0].pageX,r=n-o[0].pageY;if(i>=50){e=new Event("swipeLeft");document.dispatchEvent(e)}if(i<=-50){e=new Event("swipeRight");document.dispatchEvent(e)}if(r>=50){e=new Event("swipeUp");document.dispatchEvent(e)}if(r<=-50){e=new Event("swipeDown");document.dispatchEvent(e)}(Math.abs(i)>=50||Math.abs(r)>=50)&&document.removeEventListener("touchmove",a)}}document.addEventListener("touchstart",(function(e){var o=e.touches;o&&o.length&&(t=o[0].pageX,n=o[0].pageY,document.addEventListener("touchmove",a))}))},_trim=function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_hasClass=function(e,t){return e.className?e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):e.className=t},_addClass=function(e,t){_hasClass(e,t)||(e.className+=" "+t),e.className=_trim(e.className)},_removeClass=function(e,t){if(_hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}e.className=_trim(e.className)},_whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},_scrollTo=function(e,t,n){if(!(n<0)){var a=(t-e.scrollTop)/n*10;setTimeout((function(){e.scrollTop=e.scrollTop+a,e.scrollTop!=t&&_scrollTo(e,t,n-10)}),10)}},_transformPage=function(e,t,n,a,o){"function"==typeof t.beforeMove&&t.beforeMove(a,o);var i="-webkit-transform: translate3d(0, "+n+"%, 0); -webkit-transition: -webkit-transform "+t.animationTime+"ms "+t.easing+"; -moz-transform: translate3d(0, "+n+"%, 0); -moz-transition: -moz-transform "+t.animationTime+"ms "+t.easing+"; -ms-transform: translate3d(0, "+n+"%, 0); -ms-transition: -ms-transform "+t.animationTime+"ms "+t.easing+"; transform: translate3d(0, "+n+"%, 0); transition: transform "+t.animationTime+"ms "+t.easing+";";e.style.cssText=i;var r=_whichTransitionEvent();e.addEventListener(r,(function n(){"function"==typeof t.afterMove&&t.afterMove(a,o);e.removeEventListener(r,n)}),!1)},_responsive=function(){document.body.clientWidth<n.responsiveFallback?(_addClass(l,"disabled-onepage-scroll"),document.removeEventListener("mousewheel",_mouseWheelHandler),document.removeEventListener("DOMMouseScroll",_mouseWheelHandler),_swipeEvents(a),document.removeEventListener("swipeDown"),document.removeEventListener("swipeUp")):(_hasClass(l,"disabled-onepage-scroll")&&(_removeClass(l,"disabled-onepage-scroll"),_scrollTo(document.documentElement,0,2e3)),_swipeEvents(a),document.addEventListener("swipeDown",(function(e){_hasClass(l,"disabled-onepage-scroll")||e.preventDefault(),moveUp(a)})),document.addEventListener("swipeUp",(function(e){_hasClass(l,"disabled-onepage-scroll")||e.preventDefault(),moveDown(a)})),document.addEventListener("mousewheel",_mouseWheelHandler),document.addEventListener("DOMMouseScroll",_mouseWheelHandler))},_init_scroll=function(e,t){var o=t,i=(new Date).getTime();i-r<500+n.animationTime?e.preventDefault():(o<0?moveDown(a):moveUp(a),r=i)},this.moveDown=function(e){"string"==typeof e&&(e=document.querySelector(e));var t=document.querySelector(n.sectionContainer+".active").dataset.index,a=document.querySelector(n.sectionContainer+"[data-index='"+t+"']"),o=document.querySelector(n.sectionContainer+"[data-index='"+(parseInt(t)+1)+"']");if(o)pos=100*t*-1;else{if(1!=n.loop)return;pos=0,o=document.querySelector(n.sectionContainer+"[data-index='1']")}var i=o.dataset.index;if(_removeClass(a,"active"),_addClass(o,"active"),1==n.pagination&&(_removeClass(document.querySelector(".onepage-pagination li a[data-index='"+t+"']"),"active"),_addClass(document.querySelector(".onepage-pagination li a[data-index='"+i+"']"),"active")),l.className=l.className.replace(/\bviewing-page-\d.*?\b/g,""),_addClass(l,"viewing-page-"+i),history.replaceState&&1==n.updateURL){var r=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(parseInt(t)+1);history.pushState({},document.title,r)}_transformPage(e,n,pos,i,o)},this.moveUp=function(e){"string"==typeof e&&(e=document.querySelector(e));var t=document.querySelector(n.sectionContainer+".active").dataset.index,a=document.querySelector(n.sectionContainer+"[data-index='"+t+"']"),o=document.querySelector(n.sectionContainer+"[data-index='"+(parseInt(t)-1)+"']");if(o)pos=100*(o.dataset.index-1)*-1;else{if(1!=n.loop)return;pos=100*(i-1)*-1,o=document.querySelector(n.sectionContainer+"[data-index='"+i+"']")}var r=o.dataset.index;if(_removeClass(a,"active"),_addClass(o,"active"),1==n.pagination&&(_removeClass(document.querySelector(".onepage-pagination li a[data-index='"+t+"']"),"active"),_addClass(document.querySelector(".onepage-pagination li a[data-index='"+r+"']"),"active")),l.className=l.className.replace(/\bviewing-page-\d.*?\b/g,""),_addClass(l,"viewing-page-"+r),history.replaceState&&1==n.updateURL){var s=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(parseInt(t)-1);history.pushState({},document.title,s)}_transformPage(e,n,pos,r,o)},this.moveTo=function(e,t){"string"==typeof e&&(e=document.querySelector(e));var a=document.querySelector(n.sectionContainer+".active"),o=document.querySelector(n.sectionContainer+"[data-index='"+t+"']");if(o){var i=o.dataset.index;if(_removeClass(a,"active"),_addClass(o,"active"),_removeClass(document.querySelector(".onepage-pagination li a.active"),"active"),_addClass(document.querySelector(".onepage-pagination li a[data-index='"+t+"']"),"active"),l.className=l.className.replace(/\bviewing-page-\d.*?\b/g,""),_addClass(l,"viewing-page-"+i),pos=100*(t-1)*-1,history.replaceState&&1==n.updateURL){var r=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(parseInt(t)-1);history.pushState({},document.title,r)}_transformPage(e,n,pos,t,o)}},this.init()}}},function(e,t,n){"use strict";n.r(t);n(2),n(3);var a=n(0);Object(a.onePageScroll)(".main",{sectionContainer:".scroll-step",easing:"ease",animationTime:600,pagination:!1,updateURL:!1,loop:!1,keyboard:!0,responsiveFallback:!1});document.querySelector(".loader").style.display="none";document.querySelector(".main").style.display="block"},function(e,t,n){},function(e,t,n){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnMvcHVyZWpzLW9uZXBhZ2Utc2Nyb2xsL29uZXBhZ2VzY3JvbGwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZXh0ZW5kIiwib3JpZyIsImFyZ3VtZW50cyIsImxlbmd0aCIsIm9iaiIsInByb3AiLCJfX2xvb2t1cEdldHRlcl9fIiwic2V0dGVyIiwiX19sb29rdXBTZXR0ZXJfXyIsIl9fZGVmaW5lR2V0dGVyX18iLCJfX2RlZmluZVNldHRlcl9fIiwib25lUGFnZVNjcm9sbCIsImVsZW1lbnQiLCJvcHRpb25zIiwic2V0dGluZ3MiLCJzZWN0aW9uQ29udGFpbmVyIiwiZWFzaW5nIiwiYW5pbWF0aW9uVGltZSIsInBhZ2luYXRpb24iLCJ1cGRhdGVVUkwiLCJrZXlib2FyZCIsImJlZm9yZU1vdmUiLCJhZnRlck1vdmUiLCJsb29wIiwicmVzcG9uc2l2ZUZhbGxiYWNrIiwiZWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzZWN0aW9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0b3RhbCIsImxhc3RBbmltYXRpb24iLCJwYWdpbmF0aW9uTGlzdCIsImJvZHkiLCJ0aGlzIiwiaW5pdCIsIl9hZGRDbGFzcyIsInN0eWxlIiwicG9zaXRpb24iLCJkYXRhc2V0IiwiaW5kZXgiLCJfc3dpcGVFdmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJfaGFzQ2xhc3MiLCJwcmV2ZW50RGVmYXVsdCIsIm1vdmVVcCIsIm1vdmVEb3duIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwicG9zVG9wIiwib2Zmc2V0SGVpZ2h0IiwibWFyZ2luVG9wIiwid2luZG93IiwibG9jYXRpb24iLCJoYXNoIiwiaW5pdF9pbmRleCIsInJlcGxhY2UiLCJuZXh0IiwibmV4dF9pbmRleCIsImNsYXNzTmFtZSIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJocmVmIiwic3Vic3RyIiwiaW5kZXhPZiIsInB1c2hTdGF0ZSIsInRpdGxlIiwiX3RyYW5zZm9ybVBhZ2UiLCJfcGFnaW5hdGlvbkhhbmRsZXIiLCJwYWdlX2luZGV4IiwibW92ZVRvIiwicGFnaW5hdGlvbl9saW5rcyIsIl9tb3VzZVdoZWVsSGFuZGxlciIsImRlbHRhIiwid2hlZWxEZWx0YSIsImRldGFpbCIsIl9pbml0X3Njcm9sbCIsIm9ucmVzaXplIiwiX3Jlc3BvbnNpdmUiLCJfa2V5ZG93bkhhbmRsZXIiLCJlIiwidGFnIiwidGFyZ2V0IiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwid2hpY2giLCJvbmtleWRvd24iLCJzdGFydFgiLCJzdGFydFkiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVzIiwiZGVsdGFYIiwicGFnZVgiLCJkZWx0YVkiLCJwYWdlWSIsIkV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsIk1hdGgiLCJhYnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX3RyaW0iLCJzdHIiLCJlbGUiLCJjbHMiLCJtYXRjaCIsIlJlZ0V4cCIsIl9yZW1vdmVDbGFzcyIsInJlZyIsIl93aGljaFRyYW5zaXRpb25FdmVudCIsInRyYW5zaXRpb25zIiwidW5kZWZpbmVkIiwiX3Njcm9sbFRvIiwidG8iLCJkdXJhdGlvbiIsInBlclRpY2siLCJzY3JvbGxUb3AiLCJzZXRUaW1lb3V0IiwiZWwyIiwicG9zIiwibmV4dF9lbCIsInRyYW5zZm9ybUNTUyIsImNzc1RleHQiLCJ0cmFuc2l0aW9uRW5kIiwiZW5kQW5pbWF0aW9uIiwiY2xpZW50V2lkdGgiLCJkb2N1bWVudEVsZW1lbnQiLCJkZWx0YU9mSW50ZXJlc3QiLCJ0aW1lTm93IiwiRGF0ZSIsImdldFRpbWUiLCJlbDMiLCJjdXJyZW50IiwicGFyc2VJbnQiLCJlbDQiLCJlbDUiLCJkaXNwbGF5Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9B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QyxNQVcvQixHQVZBcUUsYUFBYXlCLEVBQVMsVUFDdEJsRyxVQUFVd0IsRUFBTSxVQUNoQmlELGFBQWFuRixTQUFTQyxjQUFjLG1DQUF5QyxVQUM3RVMsVUFBVVYsU0FBU0MsY0FBYyx3Q0FBK0MsRUFBZSxNQUFPLFVBRXRHTSxFQUFLNkIsVUFBWTdCLEVBQUs2QixVQUFVSCxRQUFRLDBCQUEyQixJQUNuRXZCLFVBQVVILEVBQU0sZ0JBQWlCNEIsR0FFakM0RCxJQUEwQixLQUFsQmpELEVBQWEsSUFBYSxFQUU5QlQsUUFBUUMsY0FBc0MsR0FBdEJsRCxFQUFTSyxVQUFtQixDQUN2RCxJQUFJOEMsRUFBT1YsT0FBT0MsU0FBU1MsS0FBS0MsT0FBTyxFQUFFWCxPQUFPQyxTQUFTUyxLQUFLRSxRQUFRLE1BQVEsS0FBT29FLFNBQVMvRCxHQUFjLEdBQzVHVCxRQUFRSyxVQUFXLEdBQUkxQyxTQUFTMkMsTUFBT0osR0FFeENLLGVBQWVtRSxFQUFLM0gsRUFBVTJHLElBQUtqRCxFQUFZWixLQUloRDFCLEtBQUtDLFUsNkJDeGVQLDRCQUlBLHdCQUFjLFFBQVMsQ0FDckJwQixpQkFBa0IsZUFDbEJDLE9BQVEsT0FFUkMsY0FBZSxJQUNmQyxZQUFZLEVBQ1pDLFdBQVcsRUFHWEksTUFBTSxFQUNOSCxVQUFVLEVBQ1ZJLG9CQUFvQixJQU1QRSxTQUFTQyxjQUFjLFdBQy9CVSxNQUFNcUcsUUFBVSxPQUdWaEgsU0FBU0MsY0FBYyxTQUMvQlUsTUFBTXFHLFFBQVUsUyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogb25lcGFnZXNjcm9sbC5qcyB2MS4yLjJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxNCBQZXRlIFJvandvbmdzdXJpeWEuXG4gKiBodHRwOi8vd3d3LnRoZXBldGVkZXNpZ24uY29tXG4gKlxuICogQ3JlYXRlIGFuIEFwcGxlLWxpa2Ugd2Vic2l0ZSB0aGF0IGxldCB1c2VyIHNjcm9sbFxuICogb25lIHBhZ2UgYXQgYSB0aW1lXG4gKlxuICogQ3JlZGl0OiBFaWtlIFNlbmQgZm9yIHRoZSBhd2Vzb21lIHN3aXBlIGV2ZW50XG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGVhY2hhbmFuci9wdXJlanMtb25lcGFnZS1zY3JvbGxcbiAqIFxuICogTGljZW5zZTogR1BMIHYzXG4gKlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXHRcbmZ1bmN0aW9uIG9uZVBhZ2VTY3JvbGwoZWxlbWVudCwgb3B0aW9ucykge1xuICBcbiAgdmFyIGRlZmF1bHRzID0ge1xuXHQgICAgXHRzZWN0aW9uQ29udGFpbmVyOiBcInNlY3Rpb25cIixcblx0ICAgIFx0ZWFzaW5nOiBcImVhc2VcIixcblx0ICAgIFx0YW5pbWF0aW9uVGltZTogMTAwMCxcblx0ICAgIFx0cGFnaW5hdGlvbjogdHJ1ZSxcblx0ICAgIFx0dXBkYXRlVVJMOiBmYWxzZSxcblx0ICAgIFx0a2V5Ym9hcmQ6IHRydWUsXG5cdCAgICBcdGJlZm9yZU1vdmU6IG51bGwsXG5cdCAgICBcdGFmdGVyTW92ZTogbnVsbCxcblx0ICAgIFx0bG9vcDogZmFsc2UsXG5cdCAgICBcdHJlc3BvbnNpdmVGYWxsYmFjazogZmFsc2Vcblx0ICAgIH0sXG5cdCAgICBfcm9vdCA9IHRoaXMsXG5cdCAgICBzZXR0aW5ncyA9IE9iamVjdC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKSxcblx0ICAgIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KSxcblx0ICAgIHNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZXR0aW5ncy5zZWN0aW9uQ29udGFpbmVyKSxcblx0ICAgIHRvdGFsID0gc2VjdGlvbnMubGVuZ3RoLFxuXHQgICAgc3RhdHVzID0gXCJvZmZcIixcblx0ICAgIHRvcFBvcyA9IDAsXG5cdCAgICBsYXN0QW5pbWF0aW9uID0gMCxcblx0ICAgIHF1aWV0UGVyaW9kID0gNTAwLFxuXHQgICAgcGFnaW5hdGlvbkxpc3QgPSBcIlwiLFxuXHQgICAgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuICBcbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7IFxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgLyogIFByZXBhcmUgRXZlcnl0aGluZyAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgIFxuICBcdF9hZGRDbGFzcyhlbCwgXCJvbmVwYWdlLXdyYXBwZXJcIilcbiAgXHRlbC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICBcbiAgXHRmb3IoIHZhciBpID0gMDsgaSA8IHNlY3Rpb25zLmxlbmd0aDsgaSsrKXtcbiAgXHQgIF9hZGRDbGFzcyhzZWN0aW9uc1tpXSwgXCJvcHMtc2VjdGlvblwiKVxuICBcdCAgc2VjdGlvbnNbaV0uZGF0YXNldC5pbmRleCA9IGkgKyAxO1xuICBcdCAgdG9wUG9zID0gdG9wUG9zICsgMTAwO1xuICAgIFxuICBcdCAgaWYoc2V0dGluZ3MucGFnaW5hdGlvbiA9PSB0cnVlKSB7XG4gIFx0XHRcdHBhZ2luYXRpb25MaXN0ICs9IFwiPGxpPjxhIGRhdGEtaW5kZXg9J1wiICsgKGkgKyAxKSArIFwiJyBocmVmPScjXCIgKyAoaSArIDEpICsgXCInPjwvYT48L2xpPlwiO1xuICBcdFx0fVxuICAgIH1cbiAgICBcbiAgXHRfc3dpcGVFdmVudHMoZWwpO1xuICBcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzd2lwZURvd25cIiwgIGZ1bmN0aW9uKGV2ZW50KXtcbiAgXHQgIGlmICghX2hhc0NsYXNzKGJvZHksIFwiZGlzYWJsZWQtb25lcGFnZS1zY3JvbGxcIikpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIFx0XHRtb3ZlVXAoZWwpO1xuICBcdH0pO1xuICBcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzd2lwZVVwXCIsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgXHRcdGlmICghX2hhc0NsYXNzKGJvZHksIFwiZGlzYWJsZWQtb25lcGFnZS1zY3JvbGxcIikpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIFx0XHRtb3ZlRG93bihlbCk7XG4gIFx0fSk7XG4gICAgXG4gIFx0Ly8gQ3JlYXRlIFBhZ2luYXRpb24gYW5kIERpc3BsYXkgVGhlbVxuICAgIFxuICBcdGlmKHNldHRpbmdzLnBhZ2luYXRpb24gPT0gdHJ1ZSkge1xuICBcdCAgdmFyIHBhZ2luYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gIFx0ICBwYWdpbmF0aW9uLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwib25lcGFnZS1wYWdpbmF0aW9uXCIpO1xuICAgIFxuICBcdCAgYm9keS5hcHBlbmRDaGlsZChwYWdpbmF0aW9uKVxuICBcdFx0cGFnaW5hdGlvbi5pbm5lckhUTUwgPSBwYWdpbmF0aW9uTGlzdDtcbiAgXHRcdHZhciBwb3NUb3AgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vbmVwYWdlLXBhZ2luYXRpb25cIikub2Zmc2V0SGVpZ2h0IC8gMikgKiAtMTtcbiAgXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub25lcGFnZS1wYWdpbmF0aW9uXCIpLnN0eWxlLm1hcmdpblRvcCA9IHBvc1RvcDtcbiAgXHR9XG4gICAgXG4gIFx0aWYod2luZG93LmxvY2F0aW9uLmhhc2ggIT0gXCJcIiAmJiB3aW5kb3cubG9jYXRpb24uaGFzaCAhPSBcIiMxXCIpIHtcbiAgXHRcdHZhciBpbml0X2luZGV4ID0gIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoXCIjXCIsIFwiXCIpLFxuICBcdFx0ICAgIG5leHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNldHRpbmdzLnNlY3Rpb25Db250YWluZXIgKyBcIltkYXRhLWluZGV4PSdcIiArIChpbml0X2luZGV4KSArIFwiJ11cIiksXG4gIFx0XHQgICAgbmV4dF9pbmRleCA9IG5leHQuZGF0YXNldC5pbmRleDtcbiAgICBcbiAgXHRcdF9hZGRDbGFzcyggZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZXR0aW5ncy5zZWN0aW9uQ29udGFpbmVyICsgXCJbZGF0YS1pbmRleD0nXCIgKyBpbml0X2luZGV4ICsgXCInXVwiKSAsXCJhY3RpdmVcIilcbiAgXHRcdF9hZGRDbGFzcyhib2R5LCBcInZpZXdpbmctcGFnZS1cIisgaW5pdF9pbmRleClcbiAgXHRcdGlmKHNldHRpbmdzLnBhZ2luYXRpb24gPT0gdHJ1ZSkgX2FkZENsYXNzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub25lcGFnZS1wYWdpbmF0aW9uIGxpIGFcIiArIFwiW2RhdGEtaW5kZXg9J1wiICsgaW5pdF9pbmRleCArIFwiJ11cIiksIFwiYWN0aXZlXCIpO1xuICAgIFxuICBcdFx0aWYobmV4dCkge1xuICBcdFx0XHRfYWRkQ2xhc3MobmV4dCwgXCJhY3RpdmVcIilcbiAgXHRcdFx0aWYoc2V0dGluZ3MucGFnaW5hdGlvbiA9PSB0cnVlKSBfYWRkQ2xhc3MoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vbmVwYWdlLXBhZ2luYXRpb24gbGkgYVwiICsgXCJbZGF0YS1pbmRleD0nXCIgKyBpbml0X2luZGV4ICsgXCInXVwiKSwgXCJhY3RpdmVcIik7XG4gICAgXG4gIFx0XHRcdGJvZHkuY2xhc3NOYW1lID0gYm9keS5jbGFzc05hbWUucmVwbGFjZSgvXFxidmlld2luZy1wYWdlLVxcZC4qP1xcYi9nLCAnJyk7XG4gIFx0XHRcdF9hZGRDbGFzcyhib2R5LCBcInZpZXdpbmctcGFnZS1cIiArIG5leHRfaW5kZXgpXG4gIFx0XHRcdGlmIChoaXN0b3J5LnJlcGxhY2VTdGF0ZSAmJiBzZXR0aW5ncy51cGRhdGVVUkwgPT0gdHJ1ZSkge1xuICBcdFx0XHRcdHZhciBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3Vic3RyKDAsd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignIycpKSArIFwiI1wiICsgKGluaXRfaW5kZXgpO1xuICBcdFx0XHRcdGhpc3RvcnkucHVzaFN0YXRlKCB7fSwgZG9jdW1lbnQudGl0bGUsIGhyZWYgKTtcbiAgXHRcdFx0fVxuICBcdFx0fVxuICBcdFx0dmFyIHBvcyA9ICgoaW5pdF9pbmRleCAtIDEpICogMTAwKSAqIC0xO1xuICBcdFx0X3RyYW5zZm9ybVBhZ2UoZWwsIHNldHRpbmdzLCBwb3MsIGluaXRfaW5kZXgpO1xuICAgIFxuICBcdH1lbHNle1xuICBcdCAgX2FkZENsYXNzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2V0dGluZ3Muc2VjdGlvbkNvbnRhaW5lciArIFwiW2RhdGEtaW5kZXg9JzEnXVwiKSwgXCJhY3RpdmVcIik7XG4gIFx0ICBfYWRkQ2xhc3MoYm9keSwgXCJ2aWV3aW5nLXBhZ2UtMVwiKTtcbiAgXHRcdGlmKHNldHRpbmdzLnBhZ2luYXRpb24gPT0gdHJ1ZSkgX2FkZENsYXNzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub25lcGFnZS1wYWdpbmF0aW9uIGxpIGFbZGF0YS1pbmRleD0nMSddXCIpLCBcImFjdGl2ZVwiKTtcbiAgXHR9XG4gICAgXG4gIFx0X3BhZ2luYXRpb25IYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFnZV9pbmRleCA9IHRoaXMuZGF0YXNldC5pbmRleDtcbiAgXHRcdG1vdmVUbyhlbCwgcGFnZV9pbmRleCk7XG4gIFx0fVxuICAgIFxuICAgIFxuICBcdGlmKHNldHRpbmdzLnBhZ2luYXRpb24gPT0gdHJ1ZSkgIHtcbiAgXHQgIHZhciBwYWdpbmF0aW9uX2xpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5vbmVwYWdlLXBhZ2luYXRpb24gbGkgYVwiKTtcbiAgICBcbiAgXHQgIGZvciggdmFyIGkgPSAwOyBpIDwgcGFnaW5hdGlvbl9saW5rcy5sZW5ndGg7IGkrKyl7XG4gICAgXHQgIHBhZ2luYXRpb25fbGlua3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfcGFnaW5hdGlvbkhhbmRsZXIpO1xuICAgICAgfVxuICBcdH1cbiAgICBcbiAgXHRfbW91c2VXaGVlbEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuICBcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgXHRcdHZhciBkZWx0YSA9IGV2ZW50LndoZWVsRGVsdGEgfHwgLWV2ZW50LmRldGFpbDtcbiAgXHRcdGlmICghX2hhc0NsYXNzKGJvZHksIFwiZGlzYWJsZWQtb25lcGFnZS1zY3JvbGxcIikpIF9pbml0X3Njcm9sbChldmVudCwgZGVsdGEpO1xuICBcdH1cbiAgICBcbiAgXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgX21vdXNlV2hlZWxIYW5kbGVyKTtcbiAgXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Nb3VzZVNjcm9sbCcsIF9tb3VzZVdoZWVsSGFuZGxlcik7XG4gICAgXG4gICAgXG4gIFx0aWYoc2V0dGluZ3MucmVzcG9uc2l2ZUZhbGxiYWNrICE9IGZhbHNlKSB7XG4gIFx0ICB3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbigpe1xuICBcdFx0XHRfcmVzcG9uc2l2ZSgpO1xuICBcdFx0fVxuICAgIFxuICBcdFx0X3Jlc3BvbnNpdmUoKTtcbiAgXHR9XG4gICAgXG4gICAgX2tleWRvd25IYW5kbGVyID0gZnVuY3Rpb24oZSkge1xuICBcdFx0dmFyIHRhZyA9IGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBcbiAgXHRcdGlmICghX2hhc0NsYXNzKGJvZHksIFwiZGlzYWJsZWQtb25lcGFnZS1zY3JvbGxcIikpIHtcbiAgXHRcdFx0c3dpdGNoKGUud2hpY2gpIHtcbiAgXHRcdFx0XHRjYXNlIDM4OlxuICBcdFx0XHRcdFx0aWYgKHRhZyAhPSAnaW5wdXQnICYmIHRhZyAhPSAndGV4dGFyZWEnKSBtb3ZlVXAoZWwpXG4gIFx0XHRcdFx0XHRicmVhaztcbiAgXHRcdFx0XHRjYXNlIDQwOlxuICBcdFx0XHRcdFx0aWYgKHRhZyAhPSAnaW5wdXQnICYmIHRhZyAhPSAndGV4dGFyZWEnKSBtb3ZlRG93bihlbClcbiAgXHRcdFx0XHRcdGJyZWFrO1xuICBcdFx0XHRcdGRlZmF1bHQ6IHJldHVybjtcbiAgXHRcdFx0fVxuICBcdFx0fVxuICBcdFx0cmV0dXJuIGZhbHNlO1xuICBcdH1cbiAgICBcbiAgXHRpZihzZXR0aW5ncy5rZXlib2FyZCA9PSB0cnVlKSB7XG4gIFx0XHRkb2N1bWVudC5vbmtleWRvd24gPSBfa2V5ZG93bkhhbmRsZXI7XG4gIFx0fVxuICBcdHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgLyogIFByaXZhdGUgRnVuY3Rpb25zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAvKiAgQ3JlZGl0OiBFaWtlIFNlbmQgZm9yIHRoZSBhd2Vzb21lIHN3aXBlIGV2ZW50ICovXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgX3N3aXBlRXZlbnRzID0gZnVuY3Rpb24oZWwpe1xuICBcdHZhciBzdGFydFgsXG4gIFx0XHRzdGFydFk7XG4gIFxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRvdWNoc3RhcnQpOyAgXG4gIFxuICBcdGZ1bmN0aW9uIHRvdWNoc3RhcnQoZXZlbnQpIHtcbiAgXHRcdHZhciB0b3VjaGVzID0gZXZlbnQudG91Y2hlcztcbiAgXHRcdGlmICh0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoKSB7XG4gIFx0XHRcdHN0YXJ0WCA9IHRvdWNoZXNbMF0ucGFnZVg7XG4gIFx0XHRcdHN0YXJ0WSA9IHRvdWNoZXNbMF0ucGFnZVk7XG4gIFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdG91Y2htb3ZlKTtcbiAgXHRcdH1cbiAgXHR9XG4gIFxuICBcdGZ1bmN0aW9uIHRvdWNobW92ZShldmVudCkge1xuICBcdFx0dmFyIHRvdWNoZXMgPSBldmVudC50b3VjaGVzO1xuICBcdFx0aWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGgpIHtcbiAgXHRcdCAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgXHRcdFx0dmFyIGRlbHRhWCA9IHN0YXJ0WCAtIHRvdWNoZXNbMF0ucGFnZVg7XG4gIFx0XHRcdHZhciBkZWx0YVkgPSBzdGFydFkgLSB0b3VjaGVzWzBdLnBhZ2VZO1xuICBcbiAgXHRcdFx0aWYgKGRlbHRhWCA+PSA1MCkge1xuICBcdFx0XHQgIHZhciBldmVudCA9IG5ldyBFdmVudCgnc3dpcGVMZWZ0Jyk7XG4gIFx0XHRcdCAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIFx0XHRcdH1cbiAgXHRcdFx0aWYgKGRlbHRhWCA8PSAtNTApIHtcbiAgXHRcdFx0ICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ3N3aXBlUmlnaHQnKTtcbiAgXHRcdFx0ICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgXHRcdFx0fVxuICBcdFx0XHRpZiAoZGVsdGFZID49IDUwKSB7XG4gIFx0XHRcdCAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCdzd2lwZVVwJyk7XG4gIFx0XHRcdCAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIFx0XHRcdH1cbiAgXHRcdFx0aWYgKGRlbHRhWSA8PSAtNTApIHtcbiAgXHRcdFx0ICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ3N3aXBlRG93bicpO1xuICBcdFx0XHQgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICBcdFx0XHR9XG4gIFxuICBcdFx0XHRpZiAoTWF0aC5hYnMoZGVsdGFYKSA+PSA1MCB8fCBNYXRoLmFicyhkZWx0YVkpID49IDUwKSB7XG4gIFx0XHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdG91Y2htb3ZlKTtcbiAgXHRcdFx0fVxuICBcdFx0fVxuICBcdH1cbiAgXG4gIH07XG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHQvKiAgVXRpbGl0eSB0byBhZGQvcmVtb3ZlIGNsYXNzIGVhc2lseSB3aXRoIGphdmFzY3JpcHQgICAgICAgKi9cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgX3RyaW0gPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXlxcc1xccyovLCAnJykucmVwbGFjZSgvXFxzXFxzKiQvLCAnJyk7XG4gIH1cblxuICBfaGFzQ2xhc3MgPSBmdW5jdGlvbihlbGUsY2xzKSB7XG4gICAgaWYgKGVsZS5jbGFzc05hbWUpIHtcbiAgICAgIHJldHVybiBlbGUuY2xhc3NOYW1lLm1hdGNoKG5ldyBSZWdFeHAoJyhcXFxcc3xeKScrY2xzKycoXFxcXHN8JCknKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbGUuY2xhc3NOYW1lID0gY2xzO1xuICAgIH1cbiAgfVxuXG4gIF9hZGRDbGFzcyA9IGZ1bmN0aW9uKGVsZSxjbHMpIHtcbiAgICBpZiAoIV9oYXNDbGFzcyhlbGUsY2xzKSkgZWxlLmNsYXNzTmFtZSArPSBcIiBcIitjbHM7XG4gICAgZWxlLmNsYXNzTmFtZSA9IF90cmltKGVsZS5jbGFzc05hbWUpXG4gIH1cblxuICBfcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihlbGUsY2xzKSB7XG4gICAgaWYgKF9oYXNDbGFzcyhlbGUsY2xzKSkge1xuICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnKFxcXFxzfF4pJytjbHMrJyhcXFxcc3wkKScpO1xuICAgICAgICBlbGUuY2xhc3NOYW1lPWVsZS5jbGFzc05hbWUucmVwbGFjZShyZWcsJyAnKTtcbiAgICB9XG4gICAgZWxlLmNsYXNzTmFtZSA9IF90cmltKGVsZS5jbGFzc05hbWUpXG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0LyogIFRyYW5zdGlvbmVuZCBOb3JtYWxpemVyIGJ5IE1vZGVybml6ciAgICAgICAgICAgICAgICAgICAgICovXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIF93aGljaFRyYW5zaXRpb25FdmVudCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHQ7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZmFrZWVsZW1lbnQnKTtcbiAgICB2YXIgdHJhbnNpdGlvbnMgPSB7XG4gICAgICAndHJhbnNpdGlvbic6J3RyYW5zaXRpb25lbmQnLFxuICAgICAgJ09UcmFuc2l0aW9uJzonb1RyYW5zaXRpb25FbmQnLFxuICAgICAgJ01velRyYW5zaXRpb24nOid0cmFuc2l0aW9uZW5kJyxcbiAgICAgICdXZWJraXRUcmFuc2l0aW9uJzond2Via2l0VHJhbnNpdGlvbkVuZCdcbiAgICB9XG5cbiAgICBmb3IodCBpbiB0cmFuc2l0aW9ucyl7XG4gICAgICAgIGlmKCBlbC5zdHlsZVt0XSAhPT0gdW5kZWZpbmVkICl7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNpdGlvbnNbdF07XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblx0LyogIEZ1bmN0aW9uIHRvIHBlcmZvcm0gc2Nyb2xsIHRvIHRvcCBhbmltYXRpb24gICAgICAgICAgICAgICovXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIF9zY3JvbGxUbyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHRvLCBkdXJhdGlvbikge1xuICAgIGlmIChkdXJhdGlvbiA8IDApIHJldHVybjtcbiAgICB2YXIgZGlmZmVyZW5jZSA9IHRvIC0gZWxlbWVudC5zY3JvbGxUb3A7XG4gICAgdmFyIHBlclRpY2sgPSBkaWZmZXJlbmNlIC8gZHVyYXRpb24gKiAxMDtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQuc2Nyb2xsVG9wID0gZWxlbWVudC5zY3JvbGxUb3AgKyBwZXJUaWNrO1xuICAgICAgICBpZiAoZWxlbWVudC5zY3JvbGxUb3AgPT0gdG8pIHJldHVybjtcbiAgICAgICAgX3Njcm9sbFRvKGVsZW1lbnQsIHRvLCBkdXJhdGlvbiAtIDEwKTtcbiAgICB9LCAxMCk7XG4gIH1cbiAgXG4gIFxuICAgICBcbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAvKiAgRnVuY3Rpb24gdG8gdHJhbnNmb3JtIHRoZSBwYWdlICovXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgXG4gIF90cmFuc2Zvcm1QYWdlID0gZnVuY3Rpb24oZWwyLCBzZXR0aW5ncywgcG9zLCBpbmRleCwgbmV4dF9lbCkge1xuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MuYmVmb3JlTW92ZSA9PSAnZnVuY3Rpb24nKSBzZXR0aW5ncy5iZWZvcmVNb3ZlKGluZGV4LCBuZXh0X2VsKTtcbiAgICBcbiAgICB2YXIgdHJhbnNmb3JtQ1NTID0gXCItd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgXCIgKyBwb3MgKyBcIiUsIDApOyAtd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIFwiICsgc2V0dGluZ3MuYW5pbWF0aW9uVGltZSArIFwibXMgXCIgKyBzZXR0aW5ncy5lYXNpbmcgKyBcIjsgLW1vei10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIFwiICsgcG9zICsgXCIlLCAwKTsgLW1vei10cmFuc2l0aW9uOiAtbW96LXRyYW5zZm9ybSBcIiArIHNldHRpbmdzLmFuaW1hdGlvblRpbWUgKyBcIm1zIFwiICsgc2V0dGluZ3MuZWFzaW5nICsgXCI7IC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIFwiICsgcG9zICsgXCIlLCAwKTsgLW1zLXRyYW5zaXRpb246IC1tcy10cmFuc2Zvcm0gXCIgKyBzZXR0aW5ncy5hbmltYXRpb25UaW1lICsgXCJtcyBcIiArIHNldHRpbmdzLmVhc2luZyArIFwiOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIFwiICsgcG9zICsgXCIlLCAwKTsgdHJhbnNpdGlvbjogdHJhbnNmb3JtIFwiICsgc2V0dGluZ3MuYW5pbWF0aW9uVGltZSArIFwibXMgXCIgKyBzZXR0aW5ncy5lYXNpbmcgKyBcIjtcIjtcbiAgICBcbiAgICBlbDIuc3R5bGUuY3NzVGV4dCA9IHRyYW5zZm9ybUNTUztcbiAgICBcbiAgICB2YXIgdHJhbnNpdGlvbkVuZCA9IF93aGljaFRyYW5zaXRpb25FdmVudCgpO1xuICAgICBlbDIuYWRkRXZlbnRMaXN0ZW5lcih0cmFuc2l0aW9uRW5kLCBlbmRBbmltYXRpb24sIGZhbHNlKTtcbiAgICBcbiAgICBmdW5jdGlvbiBlbmRBbmltYXRpb24oKSB7XG4gICAgICBpZiAodHlwZW9mIHNldHRpbmdzLmFmdGVyTW92ZSA9PSAnZnVuY3Rpb24nKSBzZXR0aW5ncy5hZnRlck1vdmUoaW5kZXgsIG5leHRfZWwpO1xuICAgICAgZWwyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZCwgZW5kQW5pbWF0aW9uKVxuICAgIH1cbiAgfVxuICBcbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgLyogIFJlc3BvbnNpdmUgRmFsbGJhY2sgdHJpZ2dlciAgICAgICAgICAgICAgKi9cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgXG4gIF9yZXNwb25zaXZlID0gZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCA8IHNldHRpbmdzLnJlc3BvbnNpdmVGYWxsYmFjaykge1xuXHRcdFx0XG5cdFx0XHRfYWRkQ2xhc3MoYm9keSwgXCJkaXNhYmxlZC1vbmVwYWdlLXNjcm9sbFwiKTtcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCBfbW91c2VXaGVlbEhhbmRsZXIpO1xuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCBfbW91c2VXaGVlbEhhbmRsZXIpO1xuXHRcdFx0X3N3aXBlRXZlbnRzKGVsKTtcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzd2lwZURvd25cIik7XG5cdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwic3dpcGVVcFwiKTtcblx0XHRcdFxuXHRcdH0gZWxzZSB7XG5cdFx0ICBcblx0XHQgIGlmIChfaGFzQ2xhc3MoYm9keSwgXCJkaXNhYmxlZC1vbmVwYWdlLXNjcm9sbFwiKSkge1xuXHRcdCAgICBfcmVtb3ZlQ2xhc3MoYm9keSwgXCJkaXNhYmxlZC1vbmVwYWdlLXNjcm9sbFwiKTtcblx0XHQgICAgX3Njcm9sbFRvKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgMCwgMjAwMCk7XG5cdCAgICB9XG4gICAgICBcbiAgICAgIFxuXG5cdFx0XHRfc3dpcGVFdmVudHMoZWwpO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN3aXBlRG93blwiLCAgZnVuY3Rpb24oZXZlbnQpe1xuXHRcdFx0ICBpZiAoIV9oYXNDbGFzcyhib2R5LCBcImRpc2FibGVkLW9uZXBhZ2Utc2Nyb2xsXCIpKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRtb3ZlVXAoZWwpO1xuXHRcdFx0fSk7XG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic3dpcGVVcFwiLCBmdW5jdGlvbihldmVudCl7XG5cdFx0XHRcdGlmICghX2hhc0NsYXNzKGJvZHksIFwiZGlzYWJsZWQtb25lcGFnZS1zY3JvbGxcIikpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdG1vdmVEb3duKGVsKTtcblx0XHRcdH0pO1xuICAgICAgXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgX21vdXNlV2hlZWxIYW5kbGVyKTtcbiAgXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgX21vdXNlV2hlZWxIYW5kbGVyKTtcblx0XHRcdFxuXHRcdH1cblx0fVxuXHRcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgLyogIEluaXRpYWxpemUgc2Nyb2xsIGRldGVjdGlvbiAgICAgICAgICAgICAgKi9cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgXG4gIF9pbml0X3Njcm9sbCA9IGZ1bmN0aW9uKGV2ZW50LCBkZWx0YSkge1xuXHRcdHZhciBkZWx0YU9mSW50ZXJlc3QgPSBkZWx0YSxcblx0XHRcdHRpbWVOb3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0XHRcdFxuXHRcdC8vIENhbmNlbCBzY3JvbGwgaWYgY3VycmVudGx5IGFuaW1hdGluZyBvciB3aXRoaW4gcXVpZXQgcGVyaW9kXG5cdFx0aWYodGltZU5vdyAtIGxhc3RBbmltYXRpb24gPCBxdWlldFBlcmlvZCArIHNldHRpbmdzLmFuaW1hdGlvblRpbWUpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKGRlbHRhT2ZJbnRlcmVzdCA8IDApIHtcblx0XHRcdG1vdmVEb3duKGVsKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRtb3ZlVXAoZWwpXG5cdFx0fVxuXHRcdFxuXHRcdGxhc3RBbmltYXRpb24gPSB0aW1lTm93O1xuXHR9XG4gICBcbiAgXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gIC8qICBQdWJsaWMgRnVuY3Rpb25zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gIFxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gIC8qICBGdW5jdGlvbiB0byBtb3ZlIGRvd24gc2VjdGlvbiAgKi9cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICBcbiAgIHRoaXMubW92ZURvd24gPSBmdW5jdGlvbihlbDMpIHtcbiAgICBcbiAgICBpZiAodHlwZW9mIGVsMyA9PSBcInN0cmluZ1wiKSBlbDMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsMyk7XG4gICAgXG4gICAgdmFyIGluZGV4ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZXR0aW5ncy5zZWN0aW9uQ29udGFpbmVyICtcIi5hY3RpdmVcIikuZGF0YXNldC5pbmRleCxcblx0XHQgICAgY3VycmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2V0dGluZ3Muc2VjdGlvbkNvbnRhaW5lciArIFwiW2RhdGEtaW5kZXg9J1wiICsgaW5kZXggKyBcIiddXCIpLFxuXHRcdCAgICBuZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZXR0aW5ncy5zZWN0aW9uQ29udGFpbmVyICsgXCJbZGF0YS1pbmRleD0nXCIgKyAocGFyc2VJbnQoaW5kZXgpICsgMSkgKyBcIiddXCIpO1xuXHRcdCAgICBcblx0XHQgICAgXG5cdFx0aWYoIW5leHQpIHtcblx0XHRcdGlmIChzZXR0aW5ncy5sb29wID09IHRydWUpIHtcblx0XHRcdFx0cG9zID0gMDtcblx0XHRcdFx0bmV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2V0dGluZ3Muc2VjdGlvbkNvbnRhaW5lciArIFwiW2RhdGEtaW5kZXg9JzEnXVwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVyblxuXHRcdFx0fVxuXG5cdFx0fWVsc2Uge1xuXHRcdFx0cG9zID0gKGluZGV4ICogMTAwKSAqIC0xO1xuXHRcdH1cblx0XHR2YXIgbmV4dF9pbmRleCA9IG5leHQuZGF0YXNldC5pbmRleDtcblx0XHRfcmVtb3ZlQ2xhc3MoY3VycmVudCwgXCJhY3RpdmVcIik7XG5cdFx0X2FkZENsYXNzKG5leHQsIFwiYWN0aXZlXCIpO1xuXHRcdFxuXHRcdGlmKHNldHRpbmdzLnBhZ2luYXRpb24gPT0gdHJ1ZSkge1xuXHRcdCAgX3JlbW92ZUNsYXNzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub25lcGFnZS1wYWdpbmF0aW9uIGxpIGFcIiArIFwiW2RhdGEtaW5kZXg9J1wiICsgaW5kZXggKyBcIiddXCIpLCBcImFjdGl2ZVwiKTtcblx0XHQgIF9hZGRDbGFzcyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9uZXBhZ2UtcGFnaW5hdGlvbiBsaSBhXCIgKyBcIltkYXRhLWluZGV4PSdcIiArIG5leHRfaW5kZXggKyBcIiddXCIpLCBcImFjdGl2ZVwiKTtcblx0XHR9XG5cblx0XHRib2R5LmNsYXNzTmFtZSA9IGJvZHkuY2xhc3NOYW1lLnJlcGxhY2UoL1xcYnZpZXdpbmctcGFnZS1cXGQuKj9cXGIvZywgJycpO1xuXHRcdF9hZGRDbGFzcyhib2R5LCBcInZpZXdpbmctcGFnZS1cIisgbmV4dF9pbmRleCk7XG5cblx0XHRpZiAoaGlzdG9yeS5yZXBsYWNlU3RhdGUgJiYgc2V0dGluZ3MudXBkYXRlVVJMID09IHRydWUpIHtcblx0XHRcdHZhciBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3Vic3RyKDAsd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignIycpKSArIFwiI1wiICsgKHBhcnNlSW50KGluZGV4KSArIDEpO1xuXHRcdFx0aGlzdG9yeS5wdXNoU3RhdGUoIHt9LCBkb2N1bWVudC50aXRsZSwgaHJlZiApO1xuXHRcdH1cblx0XHRfdHJhbnNmb3JtUGFnZShlbDMsIHNldHRpbmdzLCBwb3MsIG5leHRfaW5kZXgsIG5leHQpO1xuXHR9XG5cdFxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gIC8qICBGdW5jdGlvbiB0byBtb3ZlIHVwIHNlY3Rpb24gICAgKi9cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXHRcblx0dGhpcy5tb3ZlVXAgPSBmdW5jdGlvbihlbDQpIHtcblx0ICBcblx0ICBpZiAodHlwZW9mIGVsNCA9PSBcInN0cmluZ1wiKSBlbDQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsNCk7XG5cdCAgXG5cdCAgdmFyIGluZGV4ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZXR0aW5ncy5zZWN0aW9uQ29udGFpbmVyICtcIi5hY3RpdmVcIikuZGF0YXNldC5pbmRleCxcblx0XHQgICAgY3VycmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2V0dGluZ3Muc2VjdGlvbkNvbnRhaW5lciArIFwiW2RhdGEtaW5kZXg9J1wiICsgaW5kZXggKyBcIiddXCIpLFxuXHRcdCAgICBuZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZXR0aW5ncy5zZWN0aW9uQ29udGFpbmVyICsgXCJbZGF0YS1pbmRleD0nXCIgKyAocGFyc2VJbnQoaW5kZXgpIC0gMSkgKyBcIiddXCIpO1xuXG5cdFx0aWYoIW5leHQpIHtcblx0XHRcdGlmIChzZXR0aW5ncy5sb29wID09IHRydWUpIHtcblx0XHRcdFx0cG9zID0gKCh0b3RhbCAtIDEpICogMTAwKSAqIC0xO1xuXHRcdFx0XHRuZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZXR0aW5ncy5zZWN0aW9uQ29udGFpbmVyICsgXCJbZGF0YS1pbmRleD0nXCIgKyB0b3RhbCArIFwiJ11cIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm5cblx0XHRcdH1cblx0XHR9ZWxzZSB7XG5cdFx0XHRwb3MgPSAoKG5leHQuZGF0YXNldC5pbmRleCAtIDEpICogMTAwKSAqIC0xO1xuXHRcdH1cblx0XHR2YXIgbmV4dF9pbmRleCA9IG5leHQuZGF0YXNldC5pbmRleDtcblx0XHRfcmVtb3ZlQ2xhc3MoY3VycmVudCwgXCJhY3RpdmVcIilcblx0XHRfYWRkQ2xhc3MobmV4dCwgXCJhY3RpdmVcIilcblx0XHRcblx0XHRpZihzZXR0aW5ncy5wYWdpbmF0aW9uID09IHRydWUpIHtcblx0XHQgIF9yZW1vdmVDbGFzcyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9uZXBhZ2UtcGFnaW5hdGlvbiBsaSBhXCIgKyBcIltkYXRhLWluZGV4PSdcIiArIGluZGV4ICsgXCInXVwiKSwgXCJhY3RpdmVcIik7XG5cdFx0ICBfYWRkQ2xhc3MoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vbmVwYWdlLXBhZ2luYXRpb24gbGkgYVwiICsgXCJbZGF0YS1pbmRleD0nXCIgKyBuZXh0X2luZGV4ICsgXCInXVwiKSwgXCJhY3RpdmVcIik7XG5cdFx0fVxuXHRcdGJvZHkuY2xhc3NOYW1lID0gYm9keS5jbGFzc05hbWUucmVwbGFjZSgvXFxidmlld2luZy1wYWdlLVxcZC4qP1xcYi9nLCAnJyk7XG5cdFx0X2FkZENsYXNzKGJvZHksIFwidmlld2luZy1wYWdlLVwiKyBuZXh0X2luZGV4KTtcblxuXHRcdGlmIChoaXN0b3J5LnJlcGxhY2VTdGF0ZSAmJiBzZXR0aW5ncy51cGRhdGVVUkwgPT0gdHJ1ZSkge1xuXHRcdFx0dmFyIGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zdWJzdHIoMCx3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCcjJykpICsgXCIjXCIgKyAocGFyc2VJbnQoaW5kZXgpIC0gMSk7XG5cdFx0XHRoaXN0b3J5LnB1c2hTdGF0ZSgge30sIGRvY3VtZW50LnRpdGxlLCBocmVmICk7XG5cdFx0fVxuXHRcdF90cmFuc2Zvcm1QYWdlKGVsNCwgc2V0dGluZ3MsIHBvcywgbmV4dF9pbmRleCwgbmV4dCk7XG5cdH1cbiAgXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gIC8qICBGdW5jdGlvbiB0byBtb3ZlIHRvIHNwZWNpZmllZCBzZWN0aW9uICAgICovXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gIFxuICB0aGlzLm1vdmVUbyA9IGZ1bmN0aW9uKGVsNSwgcGFnZV9pbmRleCkge1xuICAgIFxuICAgIGlmICh0eXBlb2YgZWw1ID09IFwic3RyaW5nXCIpIGVsNSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWw1KTtcbiAgICBcblx0XHR2YXIgY3VycmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2V0dGluZ3Muc2VjdGlvbkNvbnRhaW5lciArIFwiLmFjdGl2ZVwiKSxcblx0XHQgICAgbmV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2V0dGluZ3Muc2VjdGlvbkNvbnRhaW5lciArIFwiW2RhdGEtaW5kZXg9J1wiICsgKHBhZ2VfaW5kZXgpICsgXCInXVwiKTtcblx0XHQgICAgXG5cdFx0aWYobmV4dCkge1xuXHRcdCAgdmFyIG5leHRfaW5kZXggPSBuZXh0LmRhdGFzZXQuaW5kZXg7XG5cdFx0XHRfcmVtb3ZlQ2xhc3MoY3VycmVudCwgXCJhY3RpdmVcIik7XG5cdFx0XHRfYWRkQ2xhc3MobmV4dCwgXCJhY3RpdmVcIik7XG5cdFx0XHRfcmVtb3ZlQ2xhc3MoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vbmVwYWdlLXBhZ2luYXRpb24gbGkgYVwiICsgXCIuYWN0aXZlXCIpLCBcImFjdGl2ZVwiKTtcblx0XHRcdF9hZGRDbGFzcyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9uZXBhZ2UtcGFnaW5hdGlvbiBsaSBhXCIgKyBcIltkYXRhLWluZGV4PSdcIiArIChwYWdlX2luZGV4KSArIFwiJ11cIiksIFwiYWN0aXZlXCIpO1xuXG5cdFx0XHRib2R5LmNsYXNzTmFtZSA9IGJvZHkuY2xhc3NOYW1lLnJlcGxhY2UoL1xcYnZpZXdpbmctcGFnZS1cXGQuKj9cXGIvZywgJycpO1xuXHRcdFx0X2FkZENsYXNzKGJvZHksIFwidmlld2luZy1wYWdlLVwiKyBuZXh0X2luZGV4KTtcblxuXHRcdFx0cG9zID0gKChwYWdlX2luZGV4IC0gMSkgKiAxMDApICogLTE7XG5cblx0XHRcdGlmIChoaXN0b3J5LnJlcGxhY2VTdGF0ZSAmJiBzZXR0aW5ncy51cGRhdGVVUkwgPT0gdHJ1ZSkge1xuXHRcdFx0XHR2YXIgaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnN1YnN0cigwLHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJyMnKSkgKyBcIiNcIiArIChwYXJzZUludChwYWdlX2luZGV4KSAtIDEpO1xuXHRcdFx0XHRoaXN0b3J5LnB1c2hTdGF0ZSgge30sIGRvY3VtZW50LnRpdGxlLCBocmVmICk7XG5cdFx0XHR9XG5cdFx0XHRfdHJhbnNmb3JtUGFnZShlbDUsIHNldHRpbmdzLCBwb3MsIHBhZ2VfaW5kZXgsIG5leHQpO1xuXHRcdH1cblx0fVxuXHRcbiAgdGhpcy5pbml0KCk7XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAvKiAgVWxpdGlsaXRpZXMgTWV0aG9kICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIFxuIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIC8qICBGdW5jdGlvbiBieSBKb2huIFJlc2lnIHRvIHJlcGxpY2F0ZSBleHRlbmQgZnVuY3Rpb25hbGl0eSAqL1xuIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuIFxuIE9iamVjdC5leHRlbmQgPSBmdW5jdGlvbihvcmlnKXtcbiAgIGlmICggb3JpZyA9PSBudWxsIClcbiAgICAgcmV0dXJuIG9yaWc7XG4gXG4gICBmb3IgKCB2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKysgKSB7XG4gICAgIHZhciBvYmogPSBhcmd1bWVudHNbaV07XG4gICAgIGlmICggb2JqICE9IG51bGwgKSB7XG4gICAgICAgZm9yICggdmFyIHByb3AgaW4gb2JqICkge1xuICAgICAgICAgdmFyIGdldHRlciA9IG9iai5fX2xvb2t1cEdldHRlcl9fKCBwcm9wICksXG4gICAgICAgICAgICAgc2V0dGVyID0gb2JqLl9fbG9va3VwU2V0dGVyX18oIHByb3AgKTtcbiBcbiAgICAgICAgIGlmICggZ2V0dGVyIHx8IHNldHRlciApIHtcbiAgICAgICAgICAgaWYgKCBnZXR0ZXIgKVxuICAgICAgICAgICAgIG9yaWcuX19kZWZpbmVHZXR0ZXJfXyggcHJvcCwgZ2V0dGVyICk7XG4gICAgICAgICAgIGlmICggc2V0dGVyIClcbiAgICAgICAgICAgICBvcmlnLl9fZGVmaW5lU2V0dGVyX18oIHByb3AsIHNldHRlciApO1xuICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgb3JpZ1sgcHJvcCBdID0gb2JqWyBwcm9wIF07XG4gICAgICAgICB9XG4gICAgICAgfVxuICAgICB9XG4gICB9XG4gXG4gICByZXR1cm4gb3JpZztcbiB9O1xuXHRcblxuXG4vKioqIEVYUE9SVFMgRlJPTSBleHBvcnRzLWxvYWRlciAqKiovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgb25lUGFnZVNjcm9sbFxufTtcbiIsImltcG9ydCAnLi9zdHlsZXMuY3NzJztcbmltcG9ydCAnLi9saWJzL3B1cmVqcy1vbmVwYWdlLXNjcm9sbC9vbmVwYWdlLXNjcm9sbC5jc3MnO1xuaW1wb3J0IHsgb25lUGFnZVNjcm9sbCB9IGZyb20gJy4vbGlicy9wdXJlanMtb25lcGFnZS1zY3JvbGwvb25lcGFnZXNjcm9sbC5qcyc7XG5cbm9uZVBhZ2VTY3JvbGwoXCIubWFpblwiLCB7XG4gIHNlY3Rpb25Db250YWluZXI6IFwiLnNjcm9sbC1zdGVwXCIsLy8gc2VjdGlvbkNvbnRhaW5lciBhY2NlcHRzIGFueSBraW5kIG9mIHNlbGVjdG9yIGluIGNhc2UgeW91IGRvbid0IHdhbnQgdG8gdXNlIHNlY3Rpb25cbiAgZWFzaW5nOiBcImVhc2VcIiwgICAgICAgICAgICAgICAgICAvLyBFYXNpbmcgb3B0aW9ucyBhY2NlcHRzIHRoZSBDU1MzIGVhc2luZyBhbmltYXRpb24gc3VjaCBcImVhc2VcIiwgXCJsaW5lYXJcIiwgXCJlYXNlLWluXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwiZWFzZS1vdXRcIiwgXCJlYXNlLWluLW91dFwiLCBvciBldmVuIGN1YmljIGJlemllciB2YWx1ZSBzdWNoIGFzIFwiY3ViaWMtYmV6aWVyKDAuMTc1LCAwLjg4NSwgMC40MjAsIDEuMzEwKVwiXG4gIGFuaW1hdGlvblRpbWU6IDYwMCwgICAgICAgICAgICAgIC8vIEFuaW1hdGlvblRpbWUgbGV0IHlvdSBkZWZpbmUgaG93IGxvbmcgZWFjaCBzZWN0aW9uIHRha2VzIHRvIGFuaW1hdGVcbiAgcGFnaW5hdGlvbjogZmFsc2UsICAgICAgICAgICAgICAgLy8gWW91IGNhbiBlaXRoZXIgc2hvdyBvciBoaWRlIHRoZSBwYWdpbmF0aW9uLiBUb2dnbGUgdHJ1ZSBmb3Igc2hvdywgZmFsc2UgZm9yIGhpZGUuXG4gIHVwZGF0ZVVSTDogZmFsc2UsICAgICAgICAgICAgICAgIC8vIFRvZ2dsZSB0aGlzIHRydWUgaWYgeW91IHdhbnQgdGhlIFVSTCB0byBiZSB1cGRhdGVkIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgdXNlciBzY3JvbGwgdG8gZWFjaCBwYWdlLlxuICAvLyBiZWZvcmVNb3ZlOiBoYW5kbGVTdGVwRXhpdCwgICAgICAvLyBUaGlzIG9wdGlvbiBhY2NlcHRzIGEgY2FsbGJhY2sgZnVuY3Rpb24uIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBiZWZvcmUgdGhlIHBhZ2UgbW92ZXMuXG4gIC8vIGFmdGVyTW92ZTogaGFuZGxlU3RlcEVudGVyLCAgICAgIC8vIFRoaXMgb3B0aW9uIGFjY2VwdHMgYSBjYWxsYmFjayBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFmdGVyIHRoZSBwYWdlIG1vdmVzLlxuICBsb29wOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAvLyBZb3UgY2FuIGhhdmUgdGhlIHBhZ2UgbG9vcCBiYWNrIHRvIHRoZSB0b3AvYm90dG9tIHdoZW4gdGhlIHVzZXIgbmF2aWdhdGVzIGF0IHVwL2Rvd24gb24gdGhlIGZpcnN0L2xhc3QgcGFnZS5cbiAga2V5Ym9hcmQ6IHRydWUsICAgICAgICAgICAgICAgICAgLy8gWW91IGNhbiBhY3RpdmF0ZSB0aGUga2V5Ym9hcmQgY29udHJvbHNcbiAgcmVzcG9uc2l2ZUZhbGxiYWNrOiBmYWxzZSAgICAgICAgLy8gWW91IGNhbiBmYWxsYmFjayB0byBub3JtYWwgcGFnZSBzY3JvbGwgYnkgZGVmaW5pbmcgdGhlIHdpZHRoIG9mIHRoZSBicm93c2VyIGluIHdoaWNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHlvdSB3YW50IHRoZSByZXNwb25zaXZlIGZhbGxiYWNrIHRvIGJlIHRyaWdnZXJlZC4gRm9yIGV4YW1wbGUsIHNldCB0aGlzIHRvIDYwMCBhbmQgd2hlbmV2ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGJyb3dzZXIncyB3aWR0aCBpcyBsZXNzIHRoYW4gNjAwLCB0aGUgZmFsbGJhY2sgd2lsbCBraWNrIGluLlxufSk7XG5cbi8vIEhpZGUgbG9hZGVyXG5jb25zdCBsb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyJyk7XG5sb2FkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuLy8gU2hvdyBtYWluXG5jb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4nKTtcbm1haW4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==